---
// src/layouts/Layout.astro

import { ClientRouter } from 'astro:transitions';
import '../styles/global.css';

// Components
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';

// Font Imports
import '@fontsource-variable/oswald';
import '@fontsource-variable/roboto-flex';
import '@fontsource-variable/georama';

// Library Styles
import '@fortawesome/fontawesome-free/css/all.min.css';

interface Props {
	title: string;
	description?: string;
	image?: string;
}

const {
	title,
    // Updated default description
	description = "Freelance multimedia artist in North Carolina specializing in video editing, motion graphics, photography, and web design. 20+ years creating content for clients and social media.",
	image = "/assets/img/og-image.png"
} = Astro.props;

const siteUrl = "https://chuckcopeland.com";
---

<!doctype html>
<html lang="en">

<head>
	<ClientRouter />
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" />
	<link rel="icon" type="image/svg+xml" href="/favicon.ico" />
	<meta name="generator" content={Astro.generator} />

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.2/simple-lightbox.min.css" rel="stylesheet">

	<title>{title}</title>
	<meta name="description" content={description} />

	<meta property="og:type" content="website" />
	<meta property="og:url" content={siteUrl} />
	<meta property="og:title" content={title} />
	<meta property="og:description" content={description} />
	<meta property="og:image" content={new URL(image, siteUrl)} />
	<meta property="og:image:width" content="1200">
	<meta property="og:image:height" content="630">

	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content={siteUrl}>
	<meta property="twitter:title" content={title}>
	<meta property="twitter:description" content={description}>
	<meta property="twitter:image" content={new URL(image, siteUrl)}>

	<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "Person",
			"name": "Chuck Copeland",
			"jobTitle": "Multimedia Content Specialist",
			"description": "Freelance multimedia artist with 20+ years of experience specializing in video editing, motion graphics, photography, and web design.",
			"url": "https://chuckcopeland.com",
			"image": "https://chuckcopeland.com/assets/img/og-image.png",
			"address": {
				"@type": "PostalAddress",
				"addressLocality": "Winterville",
				"addressRegion": "NC",
				"addressCountry": "US"
			},
			"worksFor": {
				"@type": "Organization",
				"name": "Freelance"
			},
			"knowsAbout": [
				"Video Editing",
				"Motion Graphics",
				"Photography",
				"Web Design",
				"Color Grading",
				"Content Creation"
			],
			"sameAs": [
				"https://www.linkedin.com/in/chuckcopeland",
				"https://bsky.app/profile/chuckcopeland.com",
				"https://www.youtube.com/@chuckcopeland",
				"https://www.instagram.com/chuck_copeland/",
				"https://www.tiktok.com/@chuck_copeland",
				"https://www.threads.net/@chuck_copeland",
				"https://www.facebook.com/chuckcopelandcom/",
				"https://mastodon.social/@chuckcopeland"
			]
		}
	</script>
</head>

    <body>

        <Navbar />

        <main>
            <slot />
        </main>

        <Footer />


        <script>
            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) { entry.target.classList.add('active'); }
                });
            }, observerOptions);

            document.addEventListener('astro:page-load', () => {
                const elements = document.querySelectorAll('.reveal');
                elements.forEach(el => observer.observe(el));
            });
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.2/simple-lightbox.min.js"
            is:inline></script>

    </body>

</html>

<style is:global>
  /* =========================================
     VIEW TRANSITION ANIMATIONS
     ========================================= */

  /* --- FADE --- */
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  @keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
  }

  /* --- ZOOM: SUBTLE (Standard) --- */
  @keyframes zoomIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
  @keyframes zoomOut {
    from { opacity: 1; transform: scale(1); }
    to { opacity: 0; transform: scale(0.95); }
  }

  /* --- ZOOM: INTENSE (Pop Effect) --- */
  /* Great for 'zoomInEntry' on index page */
  @keyframes zoomInEntry {
    from { opacity: 0; transform: scale(0.5); }
    to { opacity: 1; transform: scale(1); }
  }
  /* Great for 'zoomOutExit' */
  @keyframes zoomOutExit {
    from { opacity: 1; transform: scale(1); }
    to { opacity: 0; transform: scale(0.5); }
  }
  
  /* Reverse Pop (Start big, shrink in) */
  @keyframes zoomOutEntry {
    from { opacity: 0; transform: scale(1.5); }
    to { opacity: 1; transform: scale(1); }
  }

  /* --- SLIDE: HORIZONTAL --- */

  /* MOVE LEFT (Push flow: New page enters from Right) */
  /* Used in your existing setup */
  @keyframes slideLeftOut {
    from { opacity: 1; transform: translateX(0); }
    to { opacity: 0; transform: translateX(-60px); }
  }
  @keyframes slideLeftIn { /* New page entering from Right */
    from { opacity: 0; transform: translateX(60px); }
    to { opacity: 1; transform: translateX(0); }
  }

  /* MOVE RIGHT (Back flow: New page enters from Left) */
  @keyframes slideRightOut {
    from { opacity: 1; transform: translateX(0); }
    to { opacity: 0; transform: translateX(60px); }
  }
  @keyframes slideRightIn { /* New page entering from Left */
    from { opacity: 0; transform: translateX(-60px); }
    to { opacity: 1; transform: translateX(0); }
  }

  /* --- SLIDE: VERTICAL --- */

  /* MOVE UP (New page enters from Bottom) */
  @keyframes slideUpOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-20px); }
  }
  @keyframes slideUpIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
    @keyframes slideUpOutIntense {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-80px); }
  }
  @keyframes slideUpInIntense {
    from { opacity: 0; transform: translateY(80px); }
    to { opacity: 1; transform: translateY(0); }
  }
  /* MOVE DOWN (New page enters from Top) */
  @keyframes slideDownOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(20px); }
  }
  @keyframes slideDownIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }
    @keyframes slideDownOutIntense {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(80px); }
  }
  @keyframes slideDownInIntense {
    from { opacity: 0; transform: translateY(-80px); }
    to { opacity: 1; transform: translateY(0); }
  }
  /* --- BLUR --- */
  @keyframes blurOut {
    from { opacity: 1; filter: blur(0px); }
    to { opacity: 0; filter: blur(10px); }
  }
  @keyframes blurIn {
    from { opacity: 0; filter: blur(10px); }
    to { opacity: 1; filter: blur(0px); }
  }

  /* --- SPIN (Rotate) --- */
  @keyframes spinOut {
    from { transform: rotate(0deg) scale(1); opacity: 1; }
    to { transform: rotate(-90deg) scale(0.5); opacity: 0; }
  }
  @keyframes spinIn {
    from { transform: rotate(90deg) scale(0.5); opacity: 0; }
    to { transform: rotate(0deg) scale(1); opacity: 1; }
  }
</style>
