---
// src/pages/photos.astro
import Layout from '../layouts/Layout.astro';
import photos from '../data/photos.json';
---

<Layout title="Photography | Chuck Copeland">

    <section class="page-header">
        <div class="container">
            <h1>Photography</h1>
            <p class="text-muted">Moments I have captured in the moment using smartphones, drones and digital cameras.
            </p>
        </div>
    </section>

    <section class="gallery-section">
        <div class="container">
            <div class="masonry-grid">
                {photos.map((photo) => (
                <div class="masonry-item reveal">
                    <a href={photo.full} class="lightbox-trigger" /* WRAP THE TITLE IN A STRONG TAG */
                        data-caption={`<strong>${photo.title}</strong>
                        ${photo.description} <br>
                        <span class="meta">${photo.camera} &bull; ${photo.date}</span>`}
                        >
                        <img src={photo.thumb} alt={photo.title} loading="lazy" />
                        <div class="photo-overlay">
                            <span class="category-badge">{photo.category}</span>
                        </div>
                    </a>
                </div>
                ))}
            </div>
        </div>
    </section>

</Layout>

<style>
    /* NOTE: .page-header and typography are now in global.css */

    /* Masonry Layout */
    .masonry-grid {
        column-count: 1;
        column-gap: 1.5rem;
        padding: 4rem 0;
    }

    @media (min-width: 768px) {
        .masonry-grid {
            column-count: 2;
        }
    }

    @media (min-width: 1024px) {
        .masonry-grid {
            column-count: 3;
        }
    }

    .masonry-item {
        break-inside: avoid;
        margin-bottom: 1.5rem;
        position: relative;
        border-radius: 8px;
        overflow: hidden;
    }

    .masonry-item img {
        width: 100%;
        display: block;
        transition: transform 0.5s ease;
    }

    /* Hover Effects */
    .masonry-item:hover img {
        transform: scale(1.03);
    }

    .photo-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);
        opacity: 0;
        transition: opacity 0.3s ease;
        display: flex;
        align-items: flex-end;
        padding: 1.5rem;
    }

    .masonry-item:hover .photo-overlay {
        opacity: 1;
    }

    .category-badge {
        background: var(--accent);
        color: #000;
        padding: 0.3rem 0.8rem;
        font-size: 0.8rem;
        text-transform: uppercase;
        font-weight: bold;
        border-radius: 4px;
    }
</style>